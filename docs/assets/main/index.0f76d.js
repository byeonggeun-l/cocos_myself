window.__require=function t(e,i,c){function s(o,a){if(!i[o]){if(!e[o]){var r=o.split("/");if(r=r[r.length-1],!e[r]){var h="function"==typeof __require&&__require;if(!a&&h)return h(r,!0);if(n)return n(r,!0);throw new Error("Cannot find module '"+o+"'")}o=r}var d=i[o]={exports:{}};e[o][0].call(d.exports,function(t){return s(e[o][1][t]||t)},d,d.exports,t,e,i,c)}return i[o].exports}for(var n="function"==typeof __require&&__require,o=0;o<c.length;o++)s(c[o]);return s}({FirstStagePlayer:[function(t,e){"use strict";cc._RF.push(e,"3211fAVjkJHdadtwF4RtS0g","FirstStagePlayer"),cc.Class({extends:cc.Component,properties:{jumpAudio:{type:cc.AudioClip,default:null}},onLoad:function(){this.accLeft=!1,this.accRight=!1,this.moveSpeed=0,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this.doJumpAction()},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},doJumpAction:function(){var t=cc.moveBy(.4,cc.v2(0,300)),e=cc.moveBy(.4,cc.v2(0,-300)),i=cc.callFunc(this.playJumpSound,this),c=cc.repeatForever(cc.sequence(t,e,i));this.node.runAction(c)},playJumpSound:function(){cc.audioEngine.playEffect(this.jumpAudio,!1)},onKeyDown:function(t){switch(t.keyCode){case cc.macro.KEY.a:this.accLeft=!0;break;case cc.macro.KEY.d:this.accRight=!0}},onKeyUp:function(t){switch(t.keyCode){case cc.macro.KEY.a:this.accLeft=!1;break;case cc.macro.KEY.d:this.accRight=!1}},update:function(t){this.accLeft?this.moveSpeed=-350:this.accRight&&(this.moveSpeed=350),this.node.x+=this.moveSpeed*t,this.node.x<-480?this.node.x=-480:this.node.x>480&&(this.node.x=480)}}),cc._RF.pop()},{}],FirstStageScript:[function(t,e){"use strict";cc._RF.push(e,"872b0/yIndMXIav4j4unQ3G","FirstStageScript"),cc.Class({extends:cc.Component,properties:{firstStagePlayerPrefab:cc.Prefab,firstStageStarPrefab:cc.Prefab},onLoad:function(){this.Player=null,this.Star=null,this.Player=cc.instantiate(this.firstStagePlayerPrefab),this.node.addChild(this.Player),this.Player.setPosition(cc.v2(-450,-150)),this.starDuration=3,cc.director.getScheduler().schedule(this.spawnNewStar,this,this.starDuration)},spawnNewStar:function(){this.Star=cc.instantiate(this.firstStageStarPrefab),this.node.addChild(this.Star),this.Star.setPosition(this.getNewStarPosition())},getNewStarPosition:function(){var t=this.game.node.height/2,e=this.game.getRandom(0,t)-110,i=this.game.node.width-60,c=this.game.getRandom(0,i)-450;return cc.v2(c,e)},collision:function(){this.Star.getBoundingBox().intersects(this.Player.getBoundingBox())&&(this.game.onPicked(),this.Star.destroy(),this.Star=null)},update:function(){null!=this.Star&&this.collision()}}),cc._RF.pop()},{}],FirstStageStar:[function(t,e){"use strict";cc._RF.push(e,"a49a8Vv+KpAuIonDneGH5c5","FirstStageStar"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.timer=0,this.starDuration=3},getPlayerDistance:function(){},onPicked:function(){},update:function(t){this.timer>this.starDuration?this.node.destroy():this.timer+=t}}),cc._RF.pop()},{}],Game:[function(t,e){"use strict";cc._RF.push(e,"277bdyzslpEEZJuSYZC7Ruz","Game"),cc.Class({extends:cc.Component,properties:{firstStageScriptPrefab:cc.Prefab,secondStageScriptPrefab:cc.Prefab,scoreDisplay:cc.Label,scoreAudio:{type:cc.AudioClip,default:null},pageView:cc.PageView},onLoad:function(){this.score=0,this.thisStage="FirstStage",this.firstScene=null,this.secondScene=null,this.firstScene=cc.instantiate(this.firstStageScriptPrefab),this.node.addChild(this.firstScene),this.firstScene.getComponent("FirstStageScript").game=this,this.pageView._enabled=!1},getRandom:function(t,e){return Math.round(Math.random()*(e-t)+t)},onPicked:function(){this.score+=1,"FirstStage"===this.thisStage?this.scoreDisplay.string="Score : "+this.score+" / 5":this.scoreDisplay.string="Score : "+this.score+" / 9999999",cc.audioEngine.playEffect(this.scoreAudio,!1),"FirstStage"===this.thisStage&&5==this.score&&(this.thisStage="SecondPage",this.score=0,this.scoreDisplay.string="Score : "+this.score+" / 9999999",this.firstScene.destroy(),this.firstScene=null,this.pageView.enabled=!0,this.pageView.setCurrentPageIndex(1),this.secondScene=cc.instantiate(this.secondStageScriptPrefab),this.node.addChild(this.secondScene),this.secondScene.getComponent("SecondStageScript").game=this)}}),cc._RF.pop()},{}],MonsterHPProgressBar:[function(t,e){"use strict";cc._RF.push(e,"28e59BJ9KlKmannipIRMjle","MonsterHPProgressBar"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){}}),cc._RF.pop()},{}],SecondStagePlayer:[function(t,e){"use strict";cc._RF.push(e,"0430aodRwdGP4QMhTLL4dvY","SecondStagePlayer"),cc.Class({extends:cc.Component,properties:{jumpAudio:{type:cc.AudioClip,default:null}},onLoad:function(){this.accLeft=!1,this.accRight=!1,this.accSpace=!1,this.jumping=!1,this.moveSpeed=0,this.touched=!1,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},doJumpAction:function(){this.jumping=!0;var t=cc.moveBy(.4,cc.v2(0,300)),e=cc.moveBy(.4,cc.v2(0,-300)),i=cc.callFunc(this.playJumpSound,this),c=cc.callFunc(this.endJump,this),s=cc.repeat(cc.sequence(t,e,i,c),1);this.node.runAction(s)},endJump:function(){this.touched=!1},playJumpSound:function(){cc.audioEngine.playEffect(this.jumpAudio,!1),this.accSpace=!1,this.jumping=!1},onKeyDown:function(t){switch(t.keyCode){case cc.macro.KEY.a:this.accLeft=!0;break;case cc.macro.KEY.d:this.accRight=!0;break;case cc.macro.KEY.space:if(this.accSpace)break;this.accSpace=!0}},onKeyUp:function(t){switch(t.keyCode){case cc.macro.KEY.a:this.accLeft=!1;break;case cc.macro.KEY.d:this.accRight=!1}},update:function(t){this.moveSpeed=0,this.accLeft&&(this.moveSpeed=-350),this.accRight&&(this.moveSpeed=350),this.accSpace&&!this.jumping&&this.doJumpAction(),this.node.x+=this.moveSpeed*t,this.node.x<-480?this.node.x=-480:this.node.x>480&&(this.node.x=480)}}),cc._RF.pop()},{}],SecondStageScript:[function(t,e){"use strict";cc._RF.push(e,"638fdVX171Cy6RFQ+YSXwoT","SecondStageScript"),cc.Class({extends:cc.Component,properties:{secondStagePlayerPrefab:cc.Prefab,secondStageStarPrefab:cc.Prefab},onLoad:function(){this.Player=null,this.Star=null,this.Player=cc.instantiate(this.secondStagePlayerPrefab),this.node.addChild(this.Player),this.Player.setPosition(cc.v2(-450,-150)),this.starDuration=10,cc.director.getScheduler().schedule(this.spawnNewStar,this,this.starDuration)},spawnNewStar:function(){this.Star=cc.instantiate(this.secondStageStarPrefab),this.node.addChild(this.Star),this.Star.setPosition(this.getNewStarPosition())},getNewStarPosition:function(){var t=this.game.node.height/2,e=this.game.getRandom(0,t)-110,i=this.game.node.width-60,c=this.game.getRandom(0,i)-450;return cc.v2(c,e)},collision:function(){this.Player.getComponent("SecondStagePlayer").touched||this.Star.getBoundingBox().intersects(this.Player.getBoundingBox())&&(this.Player.getComponent("SecondStagePlayer").touched=!0,this.Star.getComponent("SecondStageStar").HPProgressBar.getComponent(cc.ProgressBar).progress-=.2,this.Star.getComponent("SecondStageStar").HPProgressBar.getComponent(cc.ProgressBar).progress<.1&&(this.Star.destroy(),this.Star=null,this.game.onPicked()))},update:function(){null!=this.Star&&this.collision()}}),cc._RF.pop()},{}],SecondStageStar:[function(t,e){"use strict";cc._RF.push(e,"304794jGdJLxbPBm9o7AVU1","SecondStageStar"),cc.Class({extends:cc.Component,properties:{hpProgressBarPrefab:cc.Prefab},onLoad:function(){this.timer=0,this.starDuration=10,this.HPProgressBar=null,this.HPProgressBar=cc.instantiate(this.hpProgressBarPrefab),this.node.addChild(this.HPProgressBar),this.HPProgressBar.setPosition(cc.v2(this.node.x,this.node.y+40))},onAttacked:function(){},update:function(t){this.timer>this.starDuration?this.node.destroy():this.timer+=t}}),cc._RF.pop()},{}]},{},["FirstStagePlayer","FirstStageScript","FirstStageStar","Game","MonsterHPProgressBar","SecondStagePlayer","SecondStageScript","SecondStageStar"]);